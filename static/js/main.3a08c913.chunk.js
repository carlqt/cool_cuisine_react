(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){e.exports=a(257)},120:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(25),o=a.n(i),s=(a(120),a(20)),u=a(21),l=a(23),m=a(22),d=a(24),p=a(113),h=a(26),f=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(h.a,{to:"/menu"})}}]),t}(r.Component),b=a(56),O=a(30),y=a.n(O),E=a(43),v={getMenu:"".concat(n="https://sheltered-river-82974.herokuapp.com","/menu"),cartUrl:"".concat(n,"/cart_items")};function w(e){return{type:"LOAD_CART",data:e}}function j(e){return{type:"ADD_TO_CART",data:e}}function g(e){return{type:"REMOVE_FROM_CART",data:e}}var C=a(37),D=a(109),S=a.n(D),x=a(32),T=a.n(x),k=a(110),I=a.n(k),_=a(55),N=a.n(_),A=a(112),R=a.n(A),M=a(111),q=a.n(M),L=a(29),F=a(27),U=a(54),B=a.n(U),P=a(100),H=a.n(P),J=a(102),V=a.n(J),W=a(103),G=a.n(W),X=a(104),$=a.n(X),z=a(101),K=a.n(z),Q=a(69),Y=a.n(Q),Z=Object(L.withStyles)(function(e){return{container:{minHeight:400}}})(function(e){var t=e.id,a=e.imageUrl,n=e.name,r=e.classes,i=e.description,o=e.addToCart,s=e.quantity,u=e.price;return c.a.createElement(B.a,{className:r.container,item:!0,xs:3},c.a.createElement(H.a,{className:r.card},c.a.createElement(K.a,{className:r.actionArea},c.a.createElement(V.a,{component:"img",height:"200",src:a}),c.a.createElement(G.a,null,c.a.createElement(T.a,{variant:"h6",component:"h2"},n),c.a.createElement(T.a,{component:"p"},i))),c.a.createElement($.a,null,c.a.createElement(Y.a,{variant:"outlined",onClick:function(){o({id:t,imageUrl:a,name:n,description:i,quantity:s})}},"Add to cart"),c.a.createElement(T.a,{variant:"h6",color:"secondary"},u.amountWithCurrency))))}),ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).renderItem=function(e,t){var n=a.props,r=n.addToCart,i=n.data.meals.byID[Number(e)],o=i.price,s=i.name,u=i.description,l=i.quantity,m=i.imageUrl;return c.a.createElement(Z,Object.assign({key:e},{price:o,addToCart:r,name:s,description:u,imageUrl:m,id:e,quantity:l}))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data.meals;return c.a.createElement(B.a,{container:!0,className:t.container,spacing:8},a.allID.map(this.renderItem))}}]),t}(r.PureComponent),te=Object(L.withStyles)(function(e){return{container:{padding:20}}})(ee),ae=(a(6),a(106)),ne=a.n(ae),re=a(73),ce=a.n(re),ie=a(72),oe=a.n(ie),se=a(107),ue=a.n(se),le=a(108),me=a.n(le),de=a(71),pe=a.n(de),he=a(57),fe=a.n(he),be=a(105),Oe=a.n(be),ye=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).priceReducer=function(e,t){var a=t.price.amount||0;return e+Number(a)},a.removeFromCart=function(e){(0,a.props.removeFromCart)(e)},a.renderCartItems=function(e){return c.a.createElement(pe.a,{button:!0,key:e.id},c.a.createElement(Oe.a,{onClick:function(){return a.removeFromCart(e)}}),c.a.createElement(fe.a,{primary:e.name}),"x ",e.quantity)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cartItems,a=e.classes,n=e.closeDrawer,r=e.theme,i=e.open,o=t.reduce(this.priceReducer,0);return c.a.createElement(ne.a,{className:a.drawer,variant:"persistent",anchor:"right",open:i,classes:{paper:a.drawerPaper}},c.a.createElement("div",{className:a.drawerHeader},c.a.createElement(N.a,{onClick:n},"rtl"===r.direction?c.a.createElement(ue.a,null):c.a.createElement(me.a,null))),c.a.createElement(oe.a,null),c.a.createElement(ce.a,null,t.map(this.renderCartItems)),c.a.createElement(oe.a,null),c.a.createElement(ce.a,null,c.a.createElement(pe.a,null,c.a.createElement(fe.a,{className:a.grow,primary:"Total Price: "}),c.a.createElement(fe.a,{primary:"$".concat(o)}))))}}]),t}(c.a.Component),Ee=Object(L.withStyles)(function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:240},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(C.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-start"}),grow:{flexGrow:1}}},{withTheme:!0})(ye),ve=(a(253),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).quantity=function(e,t){return e+t.quantity},e.openCartDrawer=function(){e.setState(Object(F.a)(function(e){e.displayCartDrawer=!0}))},e.closeCartDrawer=function(){e.setState(Object(F.a)(function(e){e.displayCartDrawer=!1}))},e.cartItems=function(){var t=e.props,a=t.cartStore,n=t.mealStore.meals;return a.map(function(e){var t=Number(e.mealId),a=n.byID[t];return Object(C.a)({},a,{quantity:e.quantity})})},e.state={displayCartDrawer:!1},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getMenu)()}},{key:"render",value:function(){var e=this.props,t=e.addToCart,a=e.removeFromCart,n=e.classes,r=e.cartStore,i=e.mealStore,o=this.state.displayCartDrawer,s=r.reduce(this.quantity,0),u=this.cartItems();return c.a.createElement("div",{className:n.container},c.a.createElement(S.a,{position:"static"},c.a.createElement(I.a,null,c.a.createElement(T.a,{variant:"h6",color:"inherit",className:n.grow},"Meals"),c.a.createElement(N.a,{onClick:this.openCartDrawer,className:n.menuButton,color:"inherit","aria-label":"Menu"},c.a.createElement(q.a,{badgeContent:s,color:"secondary"},c.a.createElement(R.a,null))))),c.a.createElement(te,Object.assign({addToCart:t},{data:i})),c.a.createElement(Ee,Object.assign({cartItems:u,removeFromCart:a},{open:o,closeDrawer:this.closeCartDrawer})))}}]),t}(r.Component)),we=Object(L.withStyles)(function(e){return{container:{backgroundColor:"#eeeeee",flex:1},grow:{flexGrow:1}}})(ve),je={getMenu:function(){var e="".concat(v.getMenu);return function(){var t=Object(E.a)(y.a.mark(function t(a){var n,r;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a({type:"LOAD_MEALS",data:r.data.meals}),a(w(r.data.cart));case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},addToCart:function(e){return function(){var t=Object(E.a)(y.a.mark(function t(a){var n,r;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},t.next=3,fetch(v.cartUrl,n);case 3:return r=t.sent,t.next=6,r.json();case 6:t.sent,a(j(e));case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},removeFromCart:function(e){return function(){var t=Object(E.a)(y.a.mark(function t(a){var n,r,c,i;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r="".concat(v.cartUrl,"/").concat(n),c={method:"DELETE",headers:{"Content-Type":"application/json"}},t.next=5,fetch(r,c);case 5:return i=t.sent,t.next=8,i.json();case 8:t.sent,a(g(e));case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},ge=Object(b.b)(function(e){return{mealStore:e.mealStore,cartStore:e.cartStore.cart}},je)(we),Ce=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(p.a,null,c.a.createElement("div",{className:"routerContainer"},c.a.createElement(h.b,{exact:!0,path:"/",component:f}),c.a.createElement(h.d,null,c.a.createElement(h.b,{exact:!0,path:"/menu",component:ge}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var De=a(33),Se=a(114),xe={meals:{byID:{},allID:[]}};function Te(e,t){return e[t.id]=t,e}var ke={cart:[]},Ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||De.d,_e=Object(De.c)({cartStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,a=t.data;switch(t.type){case"LOAD_CART":return Object(F.b)(e,function(e){e.cart=a});case"ADD_TO_CART":return Object(F.b)(e,function(e){var t=e.cart.findIndex(function(e){return e.mealId===Number(a.id)});t>=0?e.cart[t].quantity=e.cart[t].quantity+1:e.cart=e.cart.concat({quantity:1,mealId:Number(a.id)})});case"REMOVE_FROM_CART":return Object(F.b)(e,function(e){e.cart=e.cart.filter(function(e){return e.mealId!==a.id})});case"RESET":return ke;default:return e}},mealStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,a=t.data;switch(t.type){case"LOAD_MEALS":var n=a.reduce(Te,{});return Object(F.b)(e,function(e){e.meals.byID=Object(C.a)({},n),e.meals.allID=Object.keys(n)});case"RESET":return xe;default:return e}}}),Ne=Object(De.e)(_e,Ie(Object(De.a)(Se.a)));o.a.render(c.a.createElement(b.a,{store:Ne},c.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[115,1,2]]]);
//# sourceMappingURL=main.3a08c913.chunk.js.map